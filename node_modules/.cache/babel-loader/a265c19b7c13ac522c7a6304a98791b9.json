{"ast":null,"code":"var _jsxFileName = \"/root/Documents/projects/social-network/src/components/commons/Avatar/Avatar.jsx\";\nimport React from 'react';\nimport styles from './Avatar.module.css';\nimport FetchingToggle from '../FetchingToggle/FetchingToggle.jsx';\nimport avatar_default from '../../../assets/images/avatar_default.png';\n\nclass Avatar extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: this.props.id,\n      photo: `http://localhost:8080/profile/${this.props.id}/avatar`,\n      load: false\n    };\n\n    this.onError = () => {\n      this.setState({\n        photo: avatar_default\n      });\n      this.setState({\n        load: true\n      });\n    };\n\n    this.onLoad = () => {\n      this.setState({\n        load: true\n      });\n    };\n  }\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.id !== this.props.id) {\n      this.setState({\n        id: this.props.id,\n        photo: `http://localhost:8080/profile/${this.props.id}/avatar`,\n        load: false\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.avatar,\n      style: this.props.styles && this.props.styles.wrp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }\n    }, !this.state.load && /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.fetching,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(FetchingToggle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.photo,\n      style: this.props.styles && this.props.styles.img,\n      onLoad: this.onLoad,\n      onError: this.onError,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nexport default Avatar;","map":{"version":3,"sources":["/root/Documents/projects/social-network/src/components/commons/Avatar/Avatar.jsx"],"names":["React","styles","FetchingToggle","avatar_default","Avatar","Component","state","id","props","photo","load","onError","setState","onLoad","componentDidMount","componentDidUpdate","prevProps","render","avatar","wrp","fetching","img"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,OAAOC,cAAP,MAA2B,2CAA3B;;AAEA,MAAMC,MAAN,SAAqBJ,KAAK,CAACK,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAEnCC,KAFmC,GAE3B;AACNC,MAAAA,EAAE,EAAE,KAAKC,KAAL,CAAWD,EADT;AAENE,MAAAA,KAAK,EAAG,iCAAgC,KAAKD,KAAL,CAAWD,EAAG,SAFhD;AAGNG,MAAAA,IAAI,EAAE;AAHA,KAF2B;;AAAA,SAoBnCC,OApBmC,GAoBzB,MAAM;AACd,WAAKC,QAAL,CAAc;AAACH,QAAAA,KAAK,EAAEN;AAAR,OAAd;AACA,WAAKS,QAAL,CAAc;AAACF,QAAAA,IAAI,EAAE;AAAP,OAAd;AACD,KAvBkC;;AAAA,SAyBnCG,MAzBmC,GAyB1B,MAAM;AACb,WAAKD,QAAL,CAAc;AAACF,QAAAA,IAAI,EAAE;AAAP,OAAd;AACD,KA3BkC;AAAA;;AAQnCI,EAAAA,iBAAiB,GAAG,CACnB;;AACDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAGA,SAAS,CAACT,EAAV,KAAiB,KAAKC,KAAL,CAAWD,EAA/B,EAAkC;AAChC,WAAKK,QAAL,CAAc;AACZL,QAAAA,EAAE,EAAE,KAAKC,KAAL,CAAWD,EADH;AAEZE,QAAAA,KAAK,EAAG,iCAAgC,KAAKD,KAAL,CAAWD,EAAG,SAF1C;AAGZG,QAAAA,IAAI,EAAE;AAHM,OAAd;AAKD;AACF;;AAWDO,EAAAA,MAAM,GAAG;AAEP,wBAAO;AAAK,MAAA,SAAS,EAAEhB,MAAM,CAACiB,MAAvB;AACH,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWP,MAAX,IAAqB,KAAKO,KAAL,CAAWP,MAAX,CAAkBkB,GAD3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGH,CAAC,KAAKb,KAAL,CAAWI,IAAZ,iBACK;AAAK,MAAA,SAAS,EAAET,MAAM,CAACmB,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACP,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADO,CAJF,eAQL;AAAK,MAAA,GAAG,EAAE,KAAKd,KAAL,CAAWG,KAArB;AACE,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWP,MAAX,IAAqB,KAAKO,KAAL,CAAWP,MAAX,CAAkBoB,GADhD;AAEE,MAAA,MAAM,EAAE,KAAKR,MAFf;AAGE,MAAA,OAAO,EAAE,KAAKF,OAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARK,CAAP;AAaD;;AA5CkC;;AA+CrC,eAAeP,MAAf","sourcesContent":["import React from 'react';\nimport styles from './Avatar.module.css';\nimport FetchingToggle from '../FetchingToggle/FetchingToggle.jsx';\nimport avatar_default from '../../../assets/images/avatar_default.png';\n\nclass Avatar extends React.Component {\n\n  state = {\n    id: this.props.id,\n    photo: `http://localhost:8080/profile/${this.props.id}/avatar`,\n    load: false,\n  }\n\n  componentDidMount() {\n  }\n  componentDidUpdate(prevProps) {\n    if(prevProps.id !== this.props.id){\n      this.setState({\n        id: this.props.id,\n        photo: `http://localhost:8080/profile/${this.props.id}/avatar`,\n        load: false,\n      });\n    }\n  }\n\n  onError = () => {\n    this.setState({photo: avatar_default});\n    this.setState({load: true});\n  }\n\n  onLoad = () => {\n    this.setState({load: true});\n  }\n\n  render() {\n\n    return <div className={styles.avatar}\n        style={this.props.styles && this.props.styles.wrp}\n    >\n      { !this.state.load\n          && <div className={styles.fetching}>\n      <FetchingToggle />\n    </div>\n      }\n      <img src={this.state.photo} \n        style={this.props.styles && this.props.styles.img}\n        onLoad={this.onLoad}\n        onError={this.onError} />\n      </div>\n  }\n}\n\nexport default Avatar;\n"]},"metadata":{},"sourceType":"module"}
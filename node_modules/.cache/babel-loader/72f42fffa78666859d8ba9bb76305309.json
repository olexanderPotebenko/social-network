{"ast":null,"code":"var _jsxFileName = \"/home/i/Documents/projects/social-network/src/components/commons/Anchor/Anchor.jsx\";\nimport React from 'react';\nimport styles from './Anchor.module.css';\nimport arrow from \"../../../assets/images/arrow.svg\";\n\nclass Anchor extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addScollListener = () => {\n      this.props.scrollbar.current && this.props.scrollbar.current.addEventListener('scroll', e => {\n        let scrollTop = e.target.scrollTop;\n        let clientHeight = e.target.clientHeight;\n        let scrollHeight = e.target.scrollHeight;\n        this.setState({\n          scrollTop,\n          clientHeight,\n          scrollHeight\n        });\n\n        if (scrollTop > clientHeight / 2) {\n          this.setState({\n            visible: true\n          });\n        } else {\n          this.setState({\n            visible: false\n          });\n        }\n      });\n    };\n\n    this.state = {\n      visible: false,\n      isMoveUp: false\n    };\n\n    this.moveUp = e => {\n      console.log(this.props.scrollbar.current.scrollTop);\n      e.preventDefault();\n      let current = this.props.scrollbar.current;\n      let moveUpSpeed = current.scrollTop / 10;\n      this.setState({\n        isMoveUp: true,\n        moveUpSpeed\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      isMoveUp: false,\n      visible: false\n    });\n    setTimeout(() => this.addScollListener(), 200);\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    let bool = this.props.scrollbar.current != nextProps.scrollbar.current;\n    this.props.scrollbar && nextProps.scrollbar && bool && this.addScollListener();\n\n    if (nextState.isMoveUp) {\n      setTimeout(() => {\n        this.props.scrollbar.current.scrollTop -= this.state.moveUpSpeed;\n      }, 100);\n\n      if (this.props.scrollbar.current.scrollTop < 20) {\n        this.props.scrollbar.current.scrollTop = 0;\n        this.setState({\n          isMoveUp: false\n        });\n      }\n\n      ;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.arrow_wrp,\n      style: {\n        display: this.state.visible ? 'block' : 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: styles.arrow,\n      href: \"\",\n      onClick: this.moveUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: arrow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    })));\n  }\n\n}\n\nexport default Anchor;","map":{"version":3,"sources":["/home/i/Documents/projects/social-network/src/components/commons/Anchor/Anchor.jsx"],"names":["React","styles","Anchor","Component","addScollListener","props","scrollbar","current","addEventListener","e","scrollTop","target","clientHeight","scrollHeight","setState","visible","state","isMoveUp","moveUp","console","log","preventDefault","moveUpSpeed","componentDidMount","setTimeout","componentWillUpdate","nextProps","nextState","bool","render","arrow_wrp","display","arrow"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from './Anchor.module.css';\nimport arrow from '../../../assets/images/arrow.svg'\n\nclass Anchor extends React.Component {\n\n    componentDidMount() {\n        this.setState({ isMoveUp: false, visible: false });\n        setTimeout(() => this.addScollListener(), 200);\n    }\n\n    addScollListener = () => {\n        this.props.scrollbar.current\n        && this.props.scrollbar.current.addEventListener('scroll', e => {\n            let scrollTop = e.target.scrollTop;\n            let clientHeight = e.target.clientHeight;\n            let scrollHeight = e.target.scrollHeight;\n            this.setState({ scrollTop, clientHeight, scrollHeight });\n            if(scrollTop > clientHeight/2){\n                this.setState({visible: true})\n            }else{\n                this.setState({visible: false})\n            }\n        });\n\n    }\n\n    componentWillUpdate(nextProps, nextState) {\n\n        let bool = this.props.scrollbar.current != nextProps.scrollbar.current;\n        this.props.scrollbar && nextProps.scrollbar\n            && bool\n            && this.addScollListener();\n\n        if(nextState.isMoveUp){\n            setTimeout(() => {\n                this.props.scrollbar.current.scrollTop -= this.state.moveUpSpeed;\n            }, 100);\n            if(this.props.scrollbar.current.scrollTop < 20){\n                this.props.scrollbar.current.scrollTop = 0;\n                this.setState({ isMoveUp: false });\n            };\n        }\n    }\n\n    state = { \n        visible: false,\n        isMoveUp: false,\n    }\n\n    moveUp = (e) => {\n        console.log(this.props.scrollbar.current.scrollTop);\n        e.preventDefault();\n        let current = this.props.scrollbar.current;\n        let moveUpSpeed = current.scrollTop/10;\n        this.setState({isMoveUp: true, moveUpSpeed});\n    }\n\n    render () {\n\n\n        return <div className={styles.arrow_wrp} \n        style={ {display: this.state.visible ? 'block': 'none'} }>\n            <a className={styles.arrow} href='' onClick={this.moveUp}>\n                <img src={arrow} />\n            </a>\n        </div>\n    }\n}\n\nexport default Anchor;\n"]},"metadata":{},"sourceType":"module"}
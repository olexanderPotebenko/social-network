{"ast":null,"code":"var _jsxFileName = \"/root/Documents/projects/social-network/src/components/Users/PaginationBar/PaginationBar.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport styles from './PaginationBar.module.css';\nimport { userApi } from '../../../api/api.js';\nimport { getUsers } from '../../../reducers/usersReducer';\n\nclass PaginationBar extends React.Component {\n  render() {\n    let pages = [];\n    let items_count = this.props.page_count > 6 ? 7 : this.props.page_count + 1;\n    let item_middle = Math.ceil(items_count / 2);\n    let i = this.props.page_current <= item_middle ? 1 : this.props.page_current >= this.props.page_count ? this.props.page_current - items_count + 1 : this.props.page_current - item_middle;\n    let max_i = this.props.page_count < items_count ? this.props.page_count : this.props.page_current <= item_middle ? items_count : this.props.page_current == i - 1 ? item_middle + 1 : this.props.page_current + item_middle - 1;\n    max_i = Math.ceil(max_i);\n    let str;\n\n    for (i; i <= Math.ceil(this.props.page_count) && i <= max_i; i++) {\n      let classes = styles.page_number;\n      if (i == this.props.page_current) classes = `${styles.page_number} ${styles.selected_page}`;\n      let value = i < max_i && max_i < this.props.page_count ? i : max_i < this.props.page_count ? i + '...' : i;\n      let num = parseInt(value);\n      str = value;\n      value = '' + value;\n      if (value.slice(-3) == '...') str = '...';\n\n      let onClick = num => e => {\n        onPageChanged(num);\n      };\n\n      onClick = onClick(num);\n      pages.push( /*#__PURE__*/React.createElement(\"div\", {\n        className: classes,\n        value: num,\n        onClick: onClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 27\n        }\n      }, str)));\n    }\n\n    ;\n    pages = pages.slice(-7);\n\n    if (str != '...') {\n      debugger;\n      pages = pages.slice(-6);\n    }\n\n    let onPageChanged = page_current => {\n      let options = {\n        page_current,\n        page_size: this.props.page_size,\n        id: this.props.auth.id,\n        token: this.props.auth.token\n      };\n      this.props.getUsers(options);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.wrp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.pagination_bar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, pages));\n  }\n\n}\n\n;\n\nlet mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    page_count: state.usersPage.options.total_users_count / state.usersPage.options.page_size,\n    page_current: state.usersPage.options.page_current,\n    page_size: state.usersPage.options.page_size\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getUsers\n})(PaginationBar);","map":{"version":3,"sources":["/root/Documents/projects/social-network/src/components/Users/PaginationBar/PaginationBar.jsx"],"names":["React","connect","styles","userApi","getUsers","PaginationBar","Component","render","pages","items_count","props","page_count","item_middle","Math","ceil","i","page_current","max_i","str","classes","page_number","selected_page","value","num","parseInt","slice","onClick","e","onPageChanged","push","options","page_size","id","auth","token","wrp","pagination_bar","mapStateToProps","state","usersPage","total_users_count"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport styles from './PaginationBar.module.css';\nimport {userApi} from '../../../api/api.js';\nimport {getUsers} from '../../../reducers/usersReducer';\n\nclass PaginationBar extends React.Component {\n\n  render() {\n    let pages = [];\n    let items_count = this.props.page_count > 6? 7: this.props.page_count + 1;\n    let item_middle = Math.ceil(items_count/2);\n    let i = this.props.page_current <= item_middle? 1: \n      (this.props.page_current >= this.props.page_count?\n        this.props.page_current - items_count + 1:\n        this.props.page_current - item_middle); \n    let max_i = this.props.page_count < items_count? this.props.page_count:\n      (this.props.page_current <= item_middle ? \n        items_count :\n        (this.props.page_current == i - 1?\n          item_middle + 1:\n          this.props.page_current + item_middle - 1)\n      ); \n    max_i = Math.ceil(max_i);\n\n    let str;\n\n    for (i; i <= Math.ceil(this.props.page_count) && i <=  max_i; i++){\n      let classes = styles.page_number;\n      if(i == this.props.page_current)\n        classes = `${styles.page_number} ${styles.selected_page}`;\n\n      let value = i < max_i && \n        max_i < this.props.page_count?\n        i : \n        (max_i < this.props.page_count? i + '...': i);\n\n      let num = parseInt(value); \n      str = value;\n      value = '' + value;\n      if(value.slice(-3) == '...') str = '...';\n      let onClick = num => e => {\n        onPageChanged(num);\n      };\n      onClick = onClick(num);\n      pages.push( <div className={classes} \n        value={num}\n        onClick={onClick}><span>{str}</span></div>);\n    };\n    pages = pages.slice(-7);\n    if(str != '...') {\n      debugger;\n      pages = pages.slice(-6);\n    }\n\n    let onPageChanged = (page_current) => {\n\n      let options = {\n        page_current,\n        page_size: this.props.page_size,\n        id: this.props.auth.id,\n        token: this.props.auth.token,\n      };\n      this.props.getUsers(options);\n    };\n\n    return <div className={styles.wrp}>\n      <div className={styles.pagination_bar}>\n        {pages}\n      </div>\n    </div>\n  };\n};\n\nlet mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    page_count: state.usersPage.options.total_users_count/state.usersPage.options.page_size,\n    page_current: state.usersPage.options.page_current,\n    page_size: state.usersPage.options.page_size,\n  }\n};\n\nexport default connect(mapStateToProps, {getUsers})(PaginationBar);\n"]},"metadata":{},"sourceType":"module"}